<!DOCTYPE html>
<html>
    <head>
        <style>
            #counter {
                font-size: 17vh;
                color: red;
                font: sans-serif;
                margin-left: 33%;
                
            }
        </style>
    
    </head>
    <body>
        <h1>Header 1</h1>
        <span id="counter"></span><br />
        <span>Text</span><div>Non ab cohaerescant ex incurreret malis eiusmod pariatur sed te enim amet aute 
        offendit, nulla occaecat hic anim irure. Senserit quem nam cupidatat 
        exercitation, iis sed firmissimum. Culpa cupidatat adipisicing, quo dolore 
        proident arbitror quo laboris eram lorem laborum lorem ex ut incurreret qui 
        singulis. Possumus enim velit o cillum ita velit transferrem expetendis esse 
        probant, vidisse cillum expetendis te ex illum iis esse. Dolor et ad sint 
        possumus, quibusdam non senserit do nescius aute dolore et nisi a ullamco 
        eruditionem iis consequat, nam multos proident officia, malis doctrina 
        sempiternum do ullamco eu vidisse do excepteur nisi occaecat. Do ipsum de 
        cillum.</div>
        
        <div>
            <span>More Text</span>
            <p>Text</p>
        </div>
        <br/><div>Et nostrud fidelissimae. Consequat an multos pariatur nam hic consequat non 
        expetendis. Ullamco enim de incididunt concursionibus. Mandaremus se dolor 
        doctrina, quorum ab ea quae consequat, arbitror velit quem quo lorem, velit ne 
        senserit et ipsum, illum consequat te fugiat noster, nostrud nisi te mentitum 
        exercitation, in si efflorescere, iis ipsum officia proident. Illum ex appellat 
        ut lorem se varias in nescius iis summis sed se sint occaecat, expetendis fugiat 
        doctrina vidisse, e ipsum ullamco coniunctione, offendit summis culpa senserit 
        varias, tempor summis tempor o commodo sunt sed ullamco imitarentur. Ullamco 
        minim commodo eiusmod. Hic quem ullamco vidisse.</div>
        <br/>
        <div>Officia a aliqua senserit, senserit ea varias doctrina an illum et deserunt an 
            quis in ingeniis duis quamquam, laboris do quae quibusdam, quibusdam sunt illum 
            e esse quo ut amet a tamen te nostrud quo enim. Singulis si dolor sed quis id de 
            magna admodum ab quis domesticarum ullamco elit incididunt iis aute quamquam qui 
            quorum duis. Si id culpa aliqua quae, an et despicationes an ullamco enim malis 
            ex quae hic a magna mentitum, noster litteris se mentitum a labore transferrem 
            litteris fugiat ingeniis, voluptate enim summis ex summis, aliqua id e cillum 
            appellat. E laboris de cupidatat, incurreret se aute. Aut magna ita sunt, ex 
            quorum laboris ubi qui varias cohaerescant, velit offendit efflorescere. 
            Appellat sed elit singulis do amet ne vidisse ea irure consequat quo 
            despicationes, possumus nulla ea fabulas cohaerescant, o sunt cernantur 
            sempiternum, non ita relinqueret, noster tempor officia de velit expetendis do 
            exquisitaque. Probant ab ipsum ab tamen pariatur nostrud nam labore de proident 
            do quorum, ita admodum ubi deserunt.</div>
        <br/>
        <button type="button" id="crazy">Go Crazy!</button>
        <div>Hic sed dolore sunt dolore, de dolor eiusmod, id tempor sempiternum, sed quid 
            aute noster ingeniis. Se amet dolor sunt proident. Singulis velit duis 
            incurreret amet. Consequat legam legam aut nisi. Qui fugiat incididunt, multos 
            aut voluptate, deserunt irure magna nostrud veniam ne incurreret iis deserunt, 
            ab se illum quibusdam, expetendis amet consequat, commodo summis minim est 
            noster te excepteur e commodo. Sunt ab commodo, e elit fugiat o ingeniis hic 
            malis cupidatat ne quem culpa a voluptate est expetendis. Id anim incurreret 
            possumus.</div>
        <div>Probant do occaecat, ea consequat distinguantur. Nulla singulis fidelissimae, si 
            in efflorescere. Cernantur summis quae senserit multos. Si illum admodum 
            iudicem, de anim adipisicing, laborum labore quamquam incurreret, irure de 
            arbitror de sunt. Singulis hic multos. Excepteur firmissimum se quibusdam. 
            Quamquam transferrem hic incididunt.</div>
        <h1>Dude</h1>
        <div>Vidisse exquisitaque non arbitror si id enim fabulas probant, ne anim nescius 
            ingeniis ab ita eu comprehenderit. Ingeniis in tamen singulis, cupidatat ea 
            veniam ita noster commodo do instituendarum, iis labore proident doctrina. O 
            appellat illustriora, si quem exquisitaque te dolor si laborum qui summis, ita 
            irure aliquip. Se aute admodum eruditionem eu sed an amet occaecat. Nam ne ipsum 
            anim legam, amet expetendis ad instituendarum, tempor ex ipsum vidisse, aut quis 
            offendit, do nulla iis noster, et fugiat vidisse, pariatur an quae, varias 
            voluptate sempiternum. Dolor instituendarum nescius dolore vidisse, quo quis 
            minim o officia. Lorem in ullamco ad malis, consequat est aliquip.</div>
        <div>Ea esse laboris cernantur o magna ad incididunt ad quid, aut ad lorem singulis, 
            arbitror noster admodum. Lorem est admodum an amet de in cupidatat quo 
            expetendis. Quem ubi commodo te anim. Tamen ullamco singulis. Iis aliqua varias 
            qui proident, magna nostrud ex occaecat se dolore laborum ut despicationes, hic 
            ingeniis firmissimum. Ab anim sempiternum nam si quem possumus, veniam nam ne 
            sunt consequat, aut elit quem se admodum. Doctrina eram cernantur incididunt.</div>
        
        <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
        <script>
            function changeBackgroundColor(element, color){
                $(element).css("background-color", color);
            }
            
            $.fn.changeBGColor = function(options){
                var settings = $.extend({
                    color: "red",
                    mode: "normal"
                }, options);
                
                var randomColor = function(){
                    var red = parseInt(Math.random() * 25)*10;
                    var green = parseInt(Math.random() * 25)*10;
                    var blue = parseInt(Math.random() * 25)*10;
                    return "rgb("+red+", "+green+", "+blue+")";
                }
                
                var changeColor = function(element){
                    if(settings.color == "random"){
                        if(chosenColor == null){
                            chosenColor = randomColor();
                            $(element).css("background-color", chosenColor);
                            return chosenColor;
                        }else{
                            var color = randomColor();
                            $(element).css("background-color", color);
                            return color;
                        }
                    }else{
                        $(element).css("background-color", settings.color);
                        return settings.color;
                    }
                }
                
                var counter = 0;
                var keepTrying = function (){
                    var result = changeColor(this);
                    if(result != chosenColor){
                        counter++;
                        $("#counter").text(counter);
                        var newKeepTrying = keepTrying.bind(this);
                        setTimeout(newKeepTrying, 0);
                    }
                }
                
                var chosenColor;
                this.each(function(){
                    if(chosenColor == null){
                        changeColor(this);
                    }else if(chosenColor != null){
                        var result = changeColor(this);
                        if(result != chosenColor){
                            var newKeepTrying = keepTrying.bind(this);
                            setTimeout(newKeepTrying, 0);
                        }
                    }
                    
                });

                return this;
            }
            
            $("#crazy").click(function(){
               $("*:visible").changeBGColor({color: "random", mode: "crazySlotMachine"}); 
            });
        </script>
    </body>
</html>