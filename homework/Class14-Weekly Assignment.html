<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 4 Assignment</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            border: 0;
        }
        
        body {
            font: normal normal 400 large "Roboto", sans-serif;
            height: 120vh;
            background-image: url("http://www.lifeprint.com/asl101/signjpegs/n/number-chart-1-10.jpg");
            background-size: cover;
            background-repeat: no-repeat;
        }
        
        #home {
            color: blue !important;
            font-size: x-small;
            background-color: rgba(240, 248, 255, 0.8);
            border-radius: 0.5vmin;
            padding: 0.5vmin;
            position: relative;
            left: 2.0vw;
        }
        
        h1,
        h3,
        h6  {
            font-family: sans-serif;
            font-size: large;
            width: 100vw;
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
        }
        
        h3 { 
            font-size: small;
        }
        
        h6 {
            font-size: x-small;
            font-style: italic;
        }
                
        
        div > .item {
            font-size: small;
            font-style: italic;
            font-weight: 300;
        }
        
        #logArea {
            font-style: normal;
            font-weight: 400;
        }
        
        #logArea {
            background-color: rgba(199, 194, 194, 0.8);
            border-radius: 5vmin;
            padding: 2vmin;
        }
        
        label.item.reStart,
        label.item.hint {
            color: aliceblue;
            font-size: xx-small;
        }
        
        label.item.hint {
            padding: 2vmin;
            position: relative;
            left: 21vw;
        }
        
        #gameHintButton {
            border-radius: 5vmin;
            margin: 1vmin;
            padding: 2vmin;
            position: relative;
            left: 20vw;
        }
        
        #topNumberRange,
        #numberRangeSet,
        #guessTry,
        #guessedNumber,
        #hintArea {
            border-radius: 5vmin;
            margin: 1vmin;
            padding: 2vmin;
            position: relative;
        }
        
        #topNumberRange {
            left: 11vw;
        }
        
        #numberRangeSet {
            left: 13vw;
        }
        
        #guessTry {
            left: 11vw;
        }
        
        #topNumberDisplay{ font-size: small;}
        .guess,  
        .choose {
            background-color: rgba(240, 248, 255, 0.8);
            border-radius: 5vmin;
            padding: 2vmin;
            position: relative;
            left: 9vw;
        }
        
        #guessTry {
            left: 12.5vw;
        }
        
        .guess {
            left: 8vw;
        }
        
        #guessedNumber {
            left: 10vw;
        }
        
        .forestgreen {
            color: forestgreen;
        }
        
        .lightgrey {
            color: rgba(159, 157, 157, 0.8);
        }
        
        #hintArea {
            display: block;
        }
        
        #logArea {
            display: block;
        }
        
</style>
</head>
<body>
    
    <a class="button" id="home" href="../index.html">Home</a>
    <h1 class="item">Week 4 Homework JQuery</h1>
     
    <h3 class="item">Number Game</h3>
    <h6 class="item">Play against the Computer?</h6>
    <br />
    <br />
    <div class="container">

        <label class="item choose">Choose a number between 1 and ? :</label>
        <input type="number" id="topNumberRange" class="item" value="100" />
        <button type="button" id="numberRangeSet" class="item">Enter Top Number</button>
        <br />
        <label class="item guess">Guess a number between 1 and <span id="topNumberDisplay">100</span> :</label>
        <input type="number" id="guessedNumber" class="item" />
        <button type="button" id="guessTry" class="item" value="1">Enter Number</button>
        <br />
        <div id="hintArea" class="item"></div>
        <div id="logArea" class="item">Information log area</div>
        <br />

        <label class="item reStart">To restart, press the Restart Game button:</label> 
        <button type="button" id="restartGameButton" class="item">Restart Game</button>
        
        <label class="item hint">Game hint button:</label>
        <button type="button" id="gameHintButton" class="item">Hint</button>

    </div>
    
    <script src="//code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous">
    </script>
    <script>
        
        //Functions
        logString = function (logStrng) {
            console.log(logStrng);
            return;
        }

        logAreaString = function (logAreaStrng) {
            $("#logArea").text(logAreaStrng);
            return;
        }
        
        startState = function() {
            $(".guess").removeClass("forestgreen").addClass("lightgrey");
            $(".choose").removeClass("lightgrey").addClass("forestgreen");
            $("#guessedNumber").prop('disabled', true); 
            $("#guessTry").prop('disabled', true);
            $("#topNumberRange").prop('disabled', false);
            $("#numberRangeSet").prop('disabled', false); 
            return;
        }

        toggleState = function() {
            $("#guessedNumber").prop('disabled', false)
            $("#guessTry").prop('disabled', false);
            $("#topNumberRange").prop('disabled', true);
            $("#numberRangeSet").prop('disabled', true);
            $(".choose").removeClass("forestgreen").addClass("lightgrey");
            $(".guess").removeClass("lightgrey").addClass("forestgreen");
            return;
        }

        gameReset = function () {
            wonGame = false;
            startState();       
            topNumberRangeNbr = 100;
            $("#topNumberRange").val(100);
            gameRandomNumber = parseInt(Math.random() * topNumberRangeNbr + 1);
            playerGuess = $("#guess").val();
            logAreaString(welcomeText);
            nbrLoop = 0;
            playerGuess = "";
            $("#topNumberDisplay").text(topNumberRangeNbr);
            return;
        }

        resetTopRangeNumber = function () {
            toggleState();         
            topNumberRangeNbr = $("#topNumberRange").val();
            if (topNumberRangeNbr < 2) {
                // Reset to default if out of range!
                topNumberRangeNbr = 100;
                $("#topNumberRange").val(100);
            }

            gameRandomNumber = parseInt(Math.random() * topNumberRangeNbr + 1);
            logAreaString( "Guess a number between 1 and 100 and click the Enter Top Number button to see if you have WON or need to try some more!");            
            $("#topNumberDisplay").text(topNumberRangeNbr);
            nbrLoop = 0;
            return;
        }

        playtheGame = function () {

            var closeString = "";  
            playerGuess = $("#guessedNumber").val();

            if (playerGuess * 1 > topNumberRangeNbr * 1) {
                logAreaString("Please pick a number between 1 and " + topNumberRangeNbr + "! You chose poorly and chose " + playerGuess + " which is higher then " + topNumberRangeNbr + " which you originally chose.");
                $("#guessedNumber").val(1);
            } else if (playerGuess < 1) {
                logAreaString("Please pick a number between 1 and " + topNumberRangeNbr + "! You chose poorly and chose " + playerGuess + " which is lower than 1 which is too Low or as Low as You can gO!");
                $("#guessedNumber").val(1);
            } else {

                nbrLoop++;

                var diffBetweenGuessandAnswer = Math.abs(playerGuess - gameRandomNumber);

                if (diffBetweenGuessandAnswer === 0) {
                    closeString = " You are da MAN or da woMAN and got it right!";
                } else if (diffBetweenGuessandAnswer < 5) {
                    closeString = " You are very close(hot)!";
                } else if (diffBetweenGuessandAnswer < 15) {
                    closeString = " You are quite close(warm)!";
                } else if (diffBetweenGuessandAnswer < 25) {
                    closeString = " You are very, very far(cool for the Computer)!";
                } else {
                    closeString = " You are SO very, very far away(you are ice-cold)!";
                }

                if (playerGuess == gameRandomNumber) {
                    logAreaString("You have won, your guess of " + playerGuess + " was correct! You made " + nbrLoop + " guesses.");
                    wonGame = true;
                } else {
                    logAreaString("You have not won yet as your guess of " + playerGuess + " was incorrect on guess number " + nbrLoop + ". Please enter another number to play again!" + closeString);
                }

                // re-initalize variables
                playerGuess = "";
                $("#guessedNumber").val(1);

            }
            if (wonGame) {
                holdText = $("#logArea").text(); // Save off the logArea text
                gameReset();
                logAreaString(holdText); // Restore the saved off text
                holdText = "";           // reset hold text area
            }
            return;
        }

        // Set up game variables on entrance, this code is only run on page load:
        var wonGame = false;
        var holdText = "";
        var nbrLoop = 0;
        var playerGuess = "";
        startState(); // set the active and inactive toggle to start state
      
        var hintText = "If you are 'very close(hot)': you are within +- 5   If you are 'quite close(warm)':  you are within +- 15     If you are 'very, very far(cool for the Computer)':  you are within +- 25    If you are more then +-25 then you are: 'SO very, very far away(you are ice-cold)'. Good luck!  ";
        
        var welcomeText = "Welcome to the game! If you want to change the top number from the default of a 100 please do that first BEFORE, pressing the Enter Top Number button. Secondly, enter your Guess of a number between 1 and " + topNumberRangeNbr + ". Finally, click the Enter Number button to see if you have WON or not so much! At any time you may restart the game by using the Restart Game button below on the left."; 
        
        var topNumberRangeNbr = $("#topNumberRange").val();
        var gameRandomNumber = parseInt(Math.random() * topNumberRangeNbr + 1);
        var playerGuess = $("#guess").val();
        logAreaString(welcomeText);

        // ***********  Click Handlers *********** //
        $("#gameHintButton").click(function () {    
            if (holdText == "") {
                holdText = $("#logArea").text();
                logAreaString(hintText);
            } else {
                logAreaString(holdText);
                holdText = "";
            }
        });
        
        // Restart game if #restartGameButton pressed
        $("#restartGameButton").click(function () {
            resetTopRangeNumber();
            gameReset();
        });

        // Reset the Top Range Number game if #numberRangeSet pressed
        $("#numberRangeSet").click(function () {
            resetTopRangeNumber();
        });
         
        // Play the game if the #guessTry button is pressed
        $("#guessTry").click(function () {
            playtheGame();
        });
        
        // Treat the enter key same as onClick
        $('#guessTry').keypress(function (e) {
            var key = e.which;
            if (key == 13) {
                playtheGame();
            }
        });

    </script>
</body>
</html>